(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){e.exports=a(60)},26:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),l=a.n(s),o=a(64),i=a(62),c=a(1),m=a(3),u=a(5),d=a(4),p=a(6),h=a(61),b=function(e){var t=e.post.imageUrl;return r.a.createElement("img",{className:"card-img-top",src:t,alt:"post"})},f=function(e){var t=e.post.text;return r.a.createElement("p",null,t)},v=function(e){var t=e.post.videoUrl;return r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{className:"embed-responsive-item",src:t,allowFullScreen:!0,title:"post video"}))},g=function(e){return e.isImage()?r.a.createElement(b,{post:e}):e.isVideo()?r.a.createElement(v,{post:e}):r.a.createElement(f,{post:e})},E=(a(26),function(e){var t=e.post,a=t.commentsNum,n=t.id,s=t.type,l=t.userId;return r.a.createElement(h.a,{to:"/post-details/".concat(s,"/").concat(n,"/").concat(l),className:"item-link"},r.a.createElement("div",{className:"card my-4 item-decoration element-bg radius"},r.a.createElement("div",{className:"p-3"},g(t)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},t.getCapitalType()," post"),r.a.createElement("small",{className:"text-muted float-right"},a," ",r.a.createElement("i",{className:"fas fa-comments"}))))))}),N=function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.map(function(e){return r.a.createElement(E,{key:e.id,post:e})})))},y="https://bitbookapi.azurewebsites.net/api",k=function(){function e(t){var a=t.commentsNum,n=t.dateCreated,r=t.id,s=t.type,l=t.userDisplayName,o=t.userId;Object(c.a)(this,e),this.commentsNum=a,this.dateCreated=n,this.id=r,this.type=s,this.userDisplayName=l,this.userId=o}return Object(m.a)(e,[{key:"isVideo",value:function(){return"video"===this.type}},{key:"isImage",value:function(){return"image"===this.type}},{key:"getCapitalType",value:function(){return this.type.charAt(0).toUpperCase()+this.type.slice(1)}}]),e}(),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).videoUrl=e.videoUrl,a}return Object(p.a)(t,e),t}(k),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).imageUrl=e.imageUrl,a}return Object(p.a)(t,e),t}(k),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).text=e.text,a}return Object(p.a)(t,e),t}(k),w=new(function(){function e(){Object(c.a)(this,e)}return Object(m.a)(e,[{key:"getRequestHeader",value:function(){return{method:"GET",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")}}}},{key:"postRequestHeader",value:function(e){return{method:"POST",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")},body:JSON.stringify(e)}}},{key:"deleteRequestHeader",value:function(){return{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")}}}},{key:"putRequestHeader",value:function(e){return{method:"PUT",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")},body:JSON.stringify(e)}}},{key:"authHeader",value:function(e){return{method:"POST",headers:{"Content-Type":"application/json",Key:"bitbookdev"},body:JSON.stringify(e)}}}]),e}()),O=new(function(){function e(){Object(c.a)(this,e),this.deletePost=function(e){var t="".concat(y,"/Posts/").concat(e);return fetch(t,w.deleteRequestHeader())}}return Object(m.a)(e,[{key:"fetchPosts",value:function(){var e="".concat(y,"/posts");return fetch(e,w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){return e.filter(function(e){return!e.videoUrl||e.videoUrl.includes("https://www.youtube.com/embed/")}).map(function(e){switch(e.type){case"image":return new I(e);case"video":return new C(e);case"text":return new j(e);default:throw new Error("Invalid post type")}})})}},{key:"fetchSinglePost",value:function(e,t){var a;switch(t){case"text":a="TextPosts";break;case"video":a="VideoPosts";break;case"image":a="ImagePosts"}var n="".concat(y,"/").concat(a,"/").concat(e);return fetch(n,w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){switch(e.type){case"image":return new I(e);case"video":return new C(e);case"text":return new j(e);default:throw new Error("Invalid post type")}})}},{key:"createPost",value:function(e,t){var a="".concat(y,"/").concat(t);return fetch(a,w.postRequestHeader(e))}}]),e}()),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://via.placeholder.com/150",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0;Object(c.a)(this,e),this.image=t,this.name=a,this.description=n,this.postNumber=r,this.commentNumber=s,this.lastPostDate=l,this.id=o,this.email=i}return Object(m.a)(e,[{key:"getPostTime",value:function(){var e=this.lastPostDate.getFullYear(),t=this.lastPostDate.getDate(),a=this.lastPostDate.getMonth(),n=(new Date).getFullYear(),r=(new Date).getDate(),s=(new Date).getMonth();return 1970!==e&&(n===e&&r===t&&s===a?this.lastPostDate.toLocaleTimeString().split("/").join("."):this.lastPostDate.toLocaleString().split("/").join("."))}}]),e}(),S=new(function(){function e(){Object(c.a)(this,e)}return Object(m.a)(e,[{key:"fetchProfile",value:function(){return fetch("http://bitbookapi.azurewebsites.net/api/profile",w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){var t=e.avatarUrl,a=e.name,n=e.about,r=e.postsCount,s=e.commentsCount,l=e.userId,o=e.email;return new P(t,a,n,r,s,null,l,o)})}},{key:"fetchUsers",value:function(){return fetch("http://bitbookapi.azurewebsites.net/api/users",w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){return e.map(function(e){var t=e.id,a=e.name,n=e.aboutShort,r=e.lastPostDate,s=e.avatarUrl,l=new Date(r);return new P(s,a,n,null,null,l,t)})})}},{key:"fetchSingleUser",value:function(e){var t="http://bitbookapi.azurewebsites.net/api/users/".concat(e);return fetch(t,w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){var t=e.userId,a=e.name,n=e.email,r=e.about,s=e.avatarUrl,l=e.postsCount,o=e.commentsCount;return new P(s,a,r,l,o,null,t,n)})}},{key:"changeProfile",value:function(e){return fetch("http://bitbookapi.azurewebsites.net/api/Profiles",w.putRequestHeader(e))}}]),e}()),x=(a(30),new function e(){Object(c.a)(this,e),this.isTextCorrect=function(e){return e.length>2&&!e.includes("http")&&!e.includes("<")&&!e.includes("www")},this.isImageUrlCorrect=function(e){var t=e.split("."),a=!1;switch(t[t.length-1].toLowerCase()){case"jpg":case"png":case"svg":case"gif":a=!0}return!(!e.startsWith("https://")&&!e.startsWith("http://")||!a)},this.isVideoUrlCorrect=function(e){return!(!e.startsWith("https://www.youtube.com")&&!e.startsWith("http://www.youtube.com")||!e.includes("watch?v=")&&!e.includes("embed"))},this.isNameCorrect=function(e){return e.length>2&&e.length<31&&!e.includes("http")&&!e.includes("<")&&!e.includes("www")}}),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createPostHandler=function(){var e={imageUrl:a.state.inputValue};O.createPost(e,"ImagePosts").then(function(e){a.props.loadPosts()}),a.setState({inputValue:""})},a.getInputValue=function(e){var t;t=x.isImageUrlCorrect(e.target.value)?{inputValue:e.target.value,error:!1,buttonClass:"btn button-active"}:{inputValue:e.target.value,error:!0,buttonClass:"btn button-active disabled"},a.setState(t)},a.state={inputValue:"",error:!1,buttonClass:"btn button-active disabled"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal fade",id:"imageModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"New image post"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("input",{type:"text",className:this.state.error?"form-control col-11 m-3 alertInput":"form-control col-11 m-3",value:this.state.inputValue,onChange:this.getInputValue,placeholder:"Post image","aria-label":"Username"}),r.a.createElement("p",{className:"alertParagraph"},this.state.error?"Error input":""),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:this.createPostHandler,className:this.state.buttonClass,type:"button","data-toggle":this.state.error?"modal":"","data-target":"#imageModal"},"Post image"))))))}}]),t}(n.Component),V=(a(32),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createPostHandler=function(){var e={text:a.state.inputValue};O.createPost(e,"TextPosts").then(function(e){a.props.loadPosts()}),a.setState({inputValue:"",aria:"true"})},a.getInputValue=function(e){var t;t=x.isTextCorrect(e.target.value)?{inputValue:e.target.value,error:!1,buttonClass:"btn button-active"}:{inputValue:e.target.value,error:!0,buttonClass:"btn button-active disabled"},a.setState(t)},a.state={inputValue:"",error:!1,buttonClass:"btn button-active disabled"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal fade",id:"textModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"New text post"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("input",{type:"text",className:this.state.error?"form-control col-11 m-3 alertInput":"form-control col-11 m-3",value:this.state.inputValue,onChange:this.getInputValue,placeholder:"Post text","aria-label":"Username"}),r.a.createElement("p",{className:"alertParagraph"},this.state.error?"Error input":""),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:this.createPostHandler,className:this.state.buttonClass,"data-toggle":this.state.error?"":"modal","data-target":"#textModal"},"Post text"))))))}}]),t}(n.Component)),H=(a(34),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createPostHandler=function(){var e={videoUrl:a.state.inputValue};O.createPost(e,"VideoPosts").then(function(e){a.props.loadPosts()}),a.setState({inputValue:""})},a.getInputValue=function(e){var t;x.isVideoUrlCorrect(e.target.value)?t={inputValue:e.target.value.split("watch?v=").join("embed/"),error:!1,buttonClass:"btn button-active"}:t={inputValue:e.target.value,error:!0,buttonClass:"btn button-active disabled"};a.setState(t)},a.state={inputValue:"",error:!1,buttonClass:"btn button-active disabled"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal fade",id:"videoModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"New video post"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("input",{type:"text",className:this.state.error?"form-control col-11 m-3 alertInput":"form-control col-11 m-3",value:this.state.inputValue,onChange:this.getInputValue,placeholder:"Post video","aria-label":"Username"}),r.a.createElement("p",{className:"alertParagraph"},this.state.error?"Error input":""),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:this.createPostHandler,type:"button",className:this.state.buttonClass,"data-toggle":this.state.error?"modal":"","data-target":"#videoModal"},"Post video"))))))}}]),t}(n.Component)),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).toggleClass=function(){var e=a.state.active;a.setState({active:!e})},a.state={active:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{loadPosts:this.props.loadPosts}),r.a.createElement(V,{loadPosts:this.props.loadPosts}),r.a.createElement(H,{loadPosts:this.props.loadPosts}),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("ul",{className:this.state.active?"list-group":"list-group displayNone"},r.a.createElement("li",{className:"list-group-item buttonList border-0"},r.a.createElement("button",{type:"button",className:"btn creat-post rounded-circle buttonHeight","data-toggle":"modal","data-target":"#textModal",onClick:this.toggleClass},r.a.createElement("i",{className:"fas fa-feather-alt"}))),r.a.createElement("li",{className:"list-group-item buttonList border-0"},r.a.createElement("button",{type:"button",className:"btn creat-post rounded-circle buttonHeight","data-toggle":"modal","data-target":"#imageModal",onClick:this.toggleClass},r.a.createElement("i",{className:"fas fa-image"}))),r.a.createElement("li",{className:"list-group-item buttonList border-0"},r.a.createElement("button",{type:"button",className:"btn creat-post rounded-circle buttonHeight","data-toggle":"modal","data-target":"#videoModal",onClick:this.toggleClass},r.a.createElement("i",{className:"fab fa-youtube"}))))),r.a.createElement("button",{type:"button",className:"btn creat-post rounded-circle singleButton",onClick:this.toggleClass},r.a.createElement("i",{className:"fas fa-plus"})))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).loadPosts=function(){O.fetchPosts().then(function(e){a.setState({posts:e})})},a.filterParamChangeHandler=function(e){a.setState({filterParam:e.target.value})},a.state={posts:null,filterParam:"all",isPostDeleted:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadPosts(),S.fetchProfile().then(function(e){sessionStorage.setItem("userId",e.id)})}},{key:"render",value:function(){var e,t=this.state,a=t.posts,n=t.filterParam;return a?(e="all"===n?a:a.filter(function(e){return e.type===n}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-10"},r.a.createElement(N,{posts:e}),r.a.createElement(T,{loadPosts:this.loadPosts})),r.a.createElement("div",{className:"col-2 mt-4 pr-4 h-25"},r.a.createElement("select",{id:"filterSelect",className:"w-100 radius",onChange:this.filterParamChangeHandler},r.a.createElement("option",{value:"all"},"All posts"),r.a.createElement("option",{value:"text"},"Text"),r.a.createElement("option",{value:"image"},"Images"),r.a.createElement("option",{value:"video"},"Videos"))))):r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}))}}]),t}(n.Component),D=(a(15),function(e){var t=e.user,a=t.id,n=t.image,s=t.name,l=t.aboutShort,o=t.getPostTime(),i=o?"Last post: ".concat(o):"no posts form this user";return r.a.createElement(h.a,{to:"/profile/".concat(a),className:"item-link"},r.a.createElement("div",{className:"media userContainer element-bg radius item-decoration"},r.a.createElement("div",{className:"border-r pr-3"},r.a.createElement("img",{className:"rounded-circle peopleImage",src:n,alt:"Generic placeholder"})),r.a.createElement("div",{className:"media-body p-1"},r.a.createElement("h5",{className:"mt-0 pl-3"},s),r.a.createElement("span",{className:"w-75 d-inline-block pl-5"},l),r.a.createElement("span",{className:"w-25 d-inline-block pl-2"},i))))}),F=function(e){var t=e.users.map(function(e){return r.a.createElement(D,{user:e,key:e.id})});return r.a.createElement("div",null,t)},M=function(e){var t=e.onSearchChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:function(e){return t(e.target.value)},className:"form-control mt-5 w-100 radius",type:"text",placeholder:"Search","aria-label":"Search"}))},R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchUsers=function(){S.fetchUsers().then(function(e){a.setState({users:e})})},a.searchEventHandler=function(e){a.setState({searchInput:e})},a.state={users:"",searchInput:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"render",value:function(){var e=this;if(!this.state.users)return r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}));var t=this.state.users.filter(function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())});return r.a.createElement("div",{className:"col-10 offset-1"},r.a.createElement(M,{onSearchChange:this.searchEventHandler}),r.a.createElement(F,{users:t}))}}]),t}(n.Component),q=(a(37),a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).editProfileHandler=function(){var e={name:a.state.name,email:a.state.email,aboutShort:a.state.description.slice(0,10),about:a.state.description,avatarUrl:a.state.avatarUrl};S.changeProfile(e).then(function(e){e.status>=200&&e.status<300&&a.props.fetchProfile(a.props.userId)})},a.closeEditProfileHandler=function(){S.fetchProfile().then(function(e){a.setState({name:e.name,email:e.email,aboutShort:e.aboutShort,description:e.description,avatarUrl:e.image,errorName:!1,errorUrl:!1,errorDescription:!1})})},a.getTextValue=function(e,t){var n,r=e.target.value;n="name"===t?x.isNameCorrect(r)?{name:e.target.value,errorName:!1,buttonClass:"btn btn-primary"}:{name:e.target.value,errorName:!0,buttonClass:"btn btn-primary disabled"}:x.isTextCorrect(r)?{description:e.target.value,errorDescription:!1,buttonClass:"btn btn-primary"}:{description:e.target.value,errorDescription:!0,buttonClass:"btn btn-primary disabled"},a.setState(n)},a.getAvatarUrl=function(e){var t;t=x.isImageUrlCorrect(e.target.value)?{avatarUrl:e.target.value,errorUrl:!1,buttonClass:"btn btn-primary"}:{avatarUrl:e.target.value,errorUrl:!0,buttonClass:"btn btn-primary disabled"},a.setState(t)},a.state={name:"",email:null,aboutShort:null,description:"",avatarUrl:"",errorName:!1,errorUrl:!1,errorDescription:!1,buttonClass:"btn btn-primary disabled"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.fetchProfile().then(function(t){e.setState({name:t.name,email:t.email,aboutShort:t.aboutShort,description:t.description,avatarUrl:t.image})})}},{key:"render",value:function(){var e,t=this;return e=!!(this.state.errorName||this.state.errorUrl||this.state.errorDescription),r.a.createElement("div",{className:"modal fade",id:"editProfile",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header border-0 p-2"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Update profile"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.closeEditProfileHandler},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body p-2"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement("img",{className:"my-0 mx-auto w-100",src:this.state.errorUrl?"http://thepalmsofmobay.com/admin/framework/img/user2-160x160.jpg":this.state.avatarUrl,alt:"Generic placeholder"}),r.a.createElement("button",{type:"button",className:"btn btn-primary mt-2"},"UPLOAD PHOTO")),r.a.createElement("div",{className:"col-md-8 col-sm-12 mt-4"},r.a.createElement("label",{htmlFor:"user-name",className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:this.state.errorName?"form-control alertInputName":"form-control",onChange:function(e){t.getTextValue(e,"name")},value:this.state.name,id:"user-name"}),r.a.createElement("p",{className:"alertParagraph"},this.state.errorName?"".concat(this.state.name.length,"/30"):""))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{htmlFor:"avatar-url",className:"col-form-label"},"Avatar URL:"),r.a.createElement("input",{type:"text",className:this.state.errorUrl?"form-control alertInputUrl":"form-control",onChange:this.getAvatarUrl,"aria-label":"Username",value:this.state.avatarUrl,id:"avatar-url"}),r.a.createElement("p",{className:"alertParagraph"},this.state.errorUrl?"Error input":"")),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("label",{htmlFor:"user-description",className:"col-form-label"},"Description:"),r.a.createElement("input",{type:"text",className:this.state.errorDescription?"form-control alertInputDescription":"form-control",onChange:function(e){t.getTextValue(e,"description")},value:this.state.description,id:"user-description"}),r.a.createElement("p",{className:"alertParagraph"},this.state.errorDescription?"Error input":""))))),r.a.createElement("div",{className:"modal-footer border-0 p-2"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.closeEditProfileHandler},"CLOSE"),r.a.createElement("button",{type:"button",className:this.state.buttonClass,onClick:e?null:this.editProfileHandler,"data-toggle":e?"":"modal","data-target":"#editProfile"},"UPDATE")))))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchProfile=function(e){S.fetchSingleUser(e).then(function(t){a.setState({myProfile:t,userId:e})})},a.state={myProfile:{},userId:a.props.match.params.userId},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.userId!==this.props.match.params.userId&&this.fetchProfile(this.props.match.params.userId)}},{key:"componentDidMount",value:function(){this.fetchProfile(this.props.match.params.userId)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{fetchProfile:this.fetchProfile,userId:this.state.userId}),r.a.createElement("div",{className:"jumbotron mt-5 col-10 mx-auto element-bg radius d-flex flex-column justify-content-center"},r.a.createElement("img",{src:this.state.myProfile.image,alt:"profileImage",className:"profileImage rounded-circle"}),r.a.createElement("h1",{className:"display-4 text-center"},this.state.myProfile.name),this.state.userId===sessionStorage.getItem("userId")?r.a.createElement("button",{className:"btn button-active my-4 w-25 mx-auto","data-toggle":"modal","data-target":"#editProfile"},r.a.createElement("i",{className:"fas fa-user-edit"})):null,r.a.createElement("p",{className:"text-center border-t pt-4"},this.state.myProfile.description),r.a.createElement("p",{className:"lead text-center"},r.a.createElement("button",{className:"btn button-active btn-lg m-3 item-decoration"},this.state.myProfile.postNumber," posts"),r.a.createElement("button",{className:"btn button-active btn-lg item-decoration"},this.state.myProfile.commentNumber," comments"))))}}]),t}(n.Component),B=function e(t,a,n,r,s){Object(c.a)(this,e),this.id=t,this.body=a,this.postId=n,this.authorName=r,this.authorId=s},z=new(function(){function e(){Object(c.a)(this,e)}return Object(m.a)(e,[{key:"fetchComments",value:function(e){var t="".concat(y,"/comments?postId=").concat(e);return fetch(t,w.getRequestHeader()).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return new B(e.id,e.body,e.postId,e.authorName,e.authorId)})})}},{key:"createComment",value:function(e){var t="".concat(y,"/Comments");return fetch(t,w.postRequestHeader(e))}}]),e}()),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInputValue=function(e){var t;t=!e.target.value.includes("http")&&e.target.value.length>=3&&!e.target.value.includes("<")&&!e.target.value.includes("www")?{inputValue:e.target.value,buttonClass:"btn button-active"}:{inputValue:e.target.value,buttonClass:"btn button-active disabled"},a.setState(t)},a.onCreateCommentHandler=function(){var e={body:a.state.inputValue,postId:a.state.postId};z.createComment(e).then(function(e){a.props.loadComments()}),a.setState({inputValue:""})},a.state={postId:a.props.postId,inputValue:"",buttonClass:"btn button-active disabled"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mt-4 px-4 input-group-prepend"},r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Add your comment...",onChange:this.getInputValue,value:this.state.inputValue}),r.a.createElement("input",{type:"button",value:"SEND",className:this.state.buttonClass,onClick:this.onCreateCommentHandler}))}}]),t}(n.Component),J=(a(41),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).loadSingleUser=function(){S.fetchSingleUser(a.state.userId).then(function(e){a.setState({userImage:e.image})})},a.state={userId:a.props.comment.authorId,userImage:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadSingleUser()}},{key:"render",value:function(){return r.a.createElement("li",{className:"media my-4 p-2 border row element-bg radius"},r.a.createElement("div",{className:"col-3 border-r"},r.a.createElement("img",{className:"mr-3 w-100 rounded-circle",src:this.state.userImage,alt:"Generic placeholder"})),r.a.createElement("div",{className:"media-body col-9"},r.a.createElement("h5",{className:"mt-0 mb-1"},this.props.comment.authorName),this.props.comment.body))}}]),t}(n.Component)),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).loadComments=function(){z.fetchComments(a.props.postId).then(function(e){a.setState({comments:e})})},a.state={comments:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadComments()}},{key:"render",value:function(){var e=this.state.comments;if(!e)return r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}));if(!e.length)return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{postId:this.props.postId,loadComments:this.loadComments}),r.a.createElement("div",{className:"element-bg radius p-4 mt-4 mx-2"},r.a.createElement("h3",{className:"text-center"},"No comments! Be the first one to commment this post ",r.a.createElement("i",{className:"far fa-grin-wink"}))));var t=e.map(function(e){return r.a.createElement(J,{key:e.id,comment:e})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{postId:this.props.postId,loadComments:this.loadComments}),r.a.createElement("ul",{className:"list-unstyled my-4 px-4"},t.reverse()))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deletePostHandler=function(){O.deletePost(a.state.postId).then(function(e){a.props.history.push("/feed")})},a.state={postId:a.props.match.params.postId,postType:a.props.match.params.postType,post:null,comments:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.postId,n=t.postType;O.fetchSinglePost(a,n).then(function(t){e.setState({post:t})})}},{key:"render",value:function(){var e=this.state.post;return e?r.a.createElement("div",{className:"col-10 offset-1"},r.a.createElement("div",{className:"mt-4 p-4 border element-bg radius"},g(e),e.userId===parseInt(sessionStorage.getItem("userId"))?r.a.createElement("button",{className:"btn button-delete mt-3",onClick:this.deletePostHandler},r.a.createElement("i",{className:"fas fa-trash-alt"})):null),r.a.createElement(W,{postId:this.state.postId})):r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}))}}]),t}(n.Component),Y=function(){return r.a.createElement("header",{className:"container-fluid primary-color navbar-dark"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark primary-color container"},r.a.createElement(h.a,{className:"navbar-brand",to:"/feed"},"BIT ",r.a.createElement("i",{className:"fas fa-book-open"})," BOOK"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.a,{className:"nav-link",to:"/feed"},r.a.createElement("i",{className:"fas fa-newspaper"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.a,{className:"nav-link",to:"/people"},r.a.createElement("i",{className:"fas fa-users"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.a,{className:"nav-link",to:"/profile/".concat(sessionStorage.getItem("userId"))},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.a,{className:"nav-link",to:"/",onClick:function(){sessionStorage.clear()}},r.a.createElement("i",{className:"fas fa-sign-out-alt"})))))))},Q=(a(43),function(){return r.a.createElement("footer",{className:"button-active"},r.a.createElement("p",{className:"container button-active"},"\xa9",(new Date).getFullYear()," Four in for"))}),X=a(65),Z="http://bitbookapi.azurewebsites.net/api/login",$=new(function(){function e(){Object(c.a)(this,e),this.loginFetch=function(e){return fetch(Z,w.authHeader(e))}}return Object(m.a)(e,[{key:"isLoggedIn",value:function(){return sessionStorage.getItem("sessionId")}}]),e}()),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsernameValue=function(e){var t;t={usernameInput:e.target.value},a.setState(t)},a.getPasswordValue=function(e){var t;t={passwordInput:e.target.value},a.setState(t)},a.onLoginHandler=function(){var e={username:a.state.usernameInput,password:a.state.passwordInput};$.loginFetch(e).then(function(e){return e.status>=200&&e.status<300&&a.setState({reqStatus:!0}),e.json()}).then(function(e){!0===a.state.reqStatus?(sessionStorage.setItem("sessionId",e.sessionId),a.props.history.push("/feed")):a.setState({errorMessage:e.error.message})})},a.state={usernameInput:"",passwordInput:"",errorMessage:"",reqStatus:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"username","aria-describedby":"emailHelp",placeholder:"Username",onChange:this.getUsernameValue}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},this.state.errorMessage)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.getPasswordValue})),r.a.createElement("button",{type:"submit",className:"btn button-active col-12",onClick:this.onLoginHandler},"Login"))}}]),t}(n.Component),ee=Object(X.a)(_),te=new function e(){Object(c.a)(this,e),this.registerFetch=function(e){return fetch("http://bitbookapi.azurewebsites.net/api/register",w.authHeader(e))}},ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsernameValue=function(e){var t;t={usernameInput:e.target.value},a.setState(t)},a.getPasswordValue=function(e){var t;t={passwordInput:e.target.value},a.setState(t)},a.getEmailValue=function(e){var t;t={emailInput:e.target.value},a.setState(t)},a.getFullName=function(e){var t;t={fullNameInput:e.target.value},a.setState(t)},a.registerStatusCheck=function(){a.setState({registerStatus:!0})},a.onRegisterHandler=function(){var e={username:a.state.usernameInput,password:a.state.passwordInput,name:a.state.fullNameInput,email:a.state.emailInput};te.registerFetch(e).then(function(e){e.status>=200&&e.status<300&&a.registerStatusCheck()})},a.state={usernameInput:"",passwordInput:"",emailInput:"",fullNameInput:"",registerStatus:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",onChange:this.getUsernameValue,className:"form-control",id:"username","aria-describedby":"emailHelp",placeholder:"Enter username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"fullname"},"FullName"),r.a.createElement("input",{type:"text",onChange:this.getFullName,className:"form-control",id:"fullname","aria-describedby":"emailHelp",placeholder:"Enter full name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{type:"email",onChange:this.getEmailValue,className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",onChange:this.getPasswordValue,className:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn button-active col-12",onClick:this.onRegisterHandler},"Register"),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},this.state.registerStatus?"Succses! You can login now!":""))}}]),t}(n.Component),ne=(a(46),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onRegisterTabSelect=function(){a.setState({isLoginTabActive:!1})},a.onLoginTabSelect=function(){a.setState({isLoginTabActive:!0})},a.state={isLoginTabActive:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row m-5 p-4 element-bg radius"},r.a.createElement("div",{className:"col-5"},r.a.createElement("h3",null,this.state.isLoginTabActive?"BitBook Login":"BitBook Register"),r.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")),r.a.createElement("div",{className:"offset-1 col-6 border-l pl-5"},r.a.createElement("nav",{className:"nav nav-pills nav-justified row px-3"},r.a.createElement("p",{className:this.state.isLoginTabActive?"nav-item nav-link button-active col-6":"nav-item nav-link col-6",onClick:this.onLoginTabSelect},"Login"),r.a.createElement("p",{className:this.state.isLoginTabActive?"nav-item nav-link col-6":"nav-item nav-link button-active col-6",onClick:this.onRegisterTabSelect},"Register")),this.state.isLoginTabActive?r.a.createElement(ee,null):r.a.createElement(ae,null))))}}]),t}(n.Component)),re=(a(48),a(63));a(50),a(52),a(53),a(56),a(58);l.a.render(r.a.createElement(re.a,null,r.a.createElement(function(){return r.a.createElement(r.a.Fragment,null,$.isLoggedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,null),r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(o.a,null,r.a.createElement(i.a,{path:"/post-details/:postType/:postId",component:G}),r.a.createElement(i.a,{path:"/profile/:userId",component:A}),r.a.createElement(i.a,{path:"/people",component:R}),r.a.createElement(i.a,{path:"/feed",component:L}),r.a.createElement(i.a,{path:"/",component:L})))),r.a.createElement(Q,null)):r.a.createElement(i.a,{path:"/",component:ne}))},null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.e8c49cb3.chunk.js.map
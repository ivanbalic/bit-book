(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(73)},28:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),l=a.n(r),c=a(76),o=a(78),i=a(75),m=a(1),u=a(2),d=a(6),h=a(5),p=a(7),f=a(4),v=a(77),g=(a(28),function(e){var t=e.className;return s.a.createElement("div",{className:"sk-circle"},s.a.createElement("div",{className:"sk-circle1 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle2 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle3 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle4 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle5 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle6 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle7 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle8 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle9 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle10 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle11 sk-child ".concat(t)}),s.a.createElement("div",{className:"sk-circle12 sk-child ".concat(t)}))}),b=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,r=this.props,l=r.isLoading,c=r.handleLogin,o=r.message,i=r.handleFormChange;return s.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto"},s.a.createElement("h3",{className:"login-heading mb-4"},"Welcome back!"),s.a.createElement("div",null,s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,autoFocus:!0,type:"text",id:"username",value:a,placeholder:"Username",className:"form-control","aria-describedby":"emailHelp",onChange:function(t){var a=t.target;e.setState({username:a.value})}}),s.a.createElement("label",{htmlFor:"username"},"Username")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,id:"password",type:"password",value:n,placeholder:"Password",className:"form-control",onChange:function(t){var a=t.target;e.setState({password:a.value})}}),s.a.createElement("label",{htmlFor:"password"},"Password")),s.a.createElement("button",{type:"submit",onClick:function(){return c(a,n)},className:"btn btn-lg button-active btn-block btn-login text-uppercase font-weight-bold mb-2"},l?s.a.createElement(g,{className:"white"}):"Login"),s.a.createElement("div",{className:"text-center"},s.a.createElement("small",{className:"form-text text-danger"},o),s.a.createElement("span",{className:"small item-link",onClick:i},"Haven't register yet?"))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={name:"",email:"",username:"",password:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,r=t.username,l=t.password,c=this.props,o=c.message,i=c.isLoading,m=c.messageClass,u=c.handleFormChange,d=c.handleRegistration;return s.a.createElement("div",{className:"col-md-9 col-lg-8 mx-auto"},s.a.createElement("h3",{className:"login-heading mb-4"},"Register"),s.a.createElement("div",null,s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,autoFocus:!0,type:"text",id:"username",value:r,className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter username",onChange:function(t){var a=t.target;return e.setState({username:a.value})}}),s.a.createElement("label",{htmlFor:"username"},"Username")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,id:"name",type:"text",value:a,className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter full name",onChange:function(t){var a=t.target;return e.setState({name:a.value})}}),s.a.createElement("label",{htmlFor:"name"},"Name")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,id:"email",type:"email",value:n,className:"form-control",placeholder:"Enter email","aria-describedby":"emailHelp",onChange:function(t){var a=t.target;return e.setState({email:a.value})}}),s.a.createElement("label",{htmlFor:"email"},"Email")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{required:!0,id:"password",type:"password",value:l,className:"form-control",placeholder:"Password",onChange:function(t){var a=t.target;return e.setState({password:a.value})}}),s.a.createElement("label",{htmlFor:"password"},"Password")),s.a.createElement("button",{type:"submit",onClick:function(){return d(n,r,l,a)},className:"btn btn-lg button-active btn-block btn-login text-uppercase font-weight-bold mb-2"},i?s.a.createElement(g,{className:"white"}):"Register"),s.a.createElement("div",{className:"text-center"},s.a.createElement("small",{id:"emailHelp",className:"form-text text-".concat(m)},o),s.a.createElement("span",{className:"small item-link",onClick:u},"Login"))))}}]),t}(n.Component),N="https://bitbookapi.azurewebsites.net/api",y="".concat(N,"/users"),k="".concat(N,"/login"),w="".concat(N,"/posts"),C="".concat(N,"/profile"),O="".concat(N,"/comments"),j="".concat(N,"/register"),S={method:"GET",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")}},x={method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")}},I=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"get",value:function(e){return fetch(e,S).then(function(e){return e.json()})}},{key:"post",value:function(e,t){return fetch(e,(a=t,{method:"POST",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")},body:JSON.stringify(a)})).then(function(e){var t=e.status;if(t>=200&&t<300)return"Success!";throw new Error("Faild!")});var a}},{key:"put",value:function(e,t){return fetch(e,(a=t,{method:"PUT",headers:{"Content-Type":"application/json",Key:"bitbookdev",SessionId:sessionStorage.getItem("sessionId")},body:JSON.stringify(a)})).then(function(e){var t=e.status,a=e.statusText;return t>=200&&t<300?e:Promise.reject("".concat(t," ").concat(a))});var a}},{key:"delete",value:function(e){return fetch(e,x).then(function(e){return e.json()})}},{key:"authentication",value:function(e,t){return fetch(e,(a=t,{method:"POST",headers:{"Content-Type":"application/json",Key:"bitbookdev"},body:JSON.stringify(a)})).then(function(e){return e.json()});var a}}]),e}()),P=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"login",value:function(e){return I.authentication(k,e).then(function(e){if(e.hasOwnProperty("error"))throw new Error(e.error.message);return e.sessionId})}}]),e}()),D=new function e(){Object(m.a)(this,e),this.register=function(e){return I.authentication(j,e).then(function(e){if(e.hasOwnProperty("error"))throw new Error(e.error.message);return{message:"Registration was successfull! You can login now!"}})}},U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={message:"",messageClass:"",isLoading:!1,isLoginForm:!0},a.handleLogin=a.handleLogin.bind(Object(f.a)(Object(f.a)(a))),a.handleRegistration=a.handleRegistration.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleLogin",value:function(e,t){var a=this,n={username:e,password:t};this.setState({isLoading:!0}),P.login(n).then(function(e){sessionStorage.setItem("sessionId",e),window.location.reload()}).catch(function(e){var t=e.message;return a.setState({message:t,isLoading:!1})})}},{key:"handleRegistration",value:function(e,t,a,n){var s=this,r={name:n,email:e,username:t,password:a};D.register(r).then(function(e){var t=e.message;return s.setState({message:t,messageClass:"success"})}).catch(function(e){var t=e.message;return s.setState({message:t,messageClass:"danger"})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.message,r=t.messageClass,l=t.isLoginForm;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row no-gutter"},s.a.createElement("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),s.a.createElement("div",{className:"col-md-8 col-lg-6"},s.a.createElement("div",{className:"login d-flex align-items-center py-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},l?s.a.createElement(b,{message:n,isLoading:a,handleLogin:this.handleLogin,handleFormChange:function(){return e.setState({isLoginForm:!1,message:""})}}):s.a.createElement(E,{message:n,isLoading:a,messageClass:r,handleRegistration:this.handleRegistration,handleFormChange:function(){return e.setState({isLoginForm:!0,message:""})}})))))))}}]),t}(n.Component),T=Object(v.a)(U),F=a(16),L=function(e){var t=e.text;return s.a.createElement("p",{className:"card-text"},t)},M=function(){function e(t,a,n,s,r,l,c){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"http://sg-fs.com/wp-content/uploads/2017/08/user-placeholder.png";Object(m.a)(this,e),this.id=t,this.name=a,this.image=o,this.email=n,this.postNumber=s,this.description=r,this.lastPostDate=l,this.commentNumber=c}return Object(u.a)(e,[{key:"getFormatedTime",value:function(){return this.lastPostDate.toLocaleTimeString("en-GB",{hour12:!1})}},{key:"getFormatedDate",value:function(){var e="".concat(this.lastPostDate.toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric"}),", ").concat(this.lastPostDate.toLocaleTimeString("en-GB",{hour12:!1}));return 1970!==this.lastPostDate.getFullYear()?e:"No posts"}},{key:"getElapsedTime",value:function(){var e=Math.floor((new Date-this.lastPostDate)/1e3),t=Math.floor(e/31536e3);return t>=1?t>1?t+" years":t+" year":(t=Math.floor(e/2592e3))>=1?t>1?t+" months":t+" month":(t=Math.floor(e/86400))>=1?t>1?t+" days":t+" day":(t=Math.floor(e/3600))>=1?t>1?t+" hours":t+" hour":(t=Math.floor(e/60))>=1?t>1?t+" minuts":t+" minut":e>1?e+" seconds":e+" second"}}]),e}(),V=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"getProfile",value:function(){return I.get(C).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);var t=e.name,a=e.email,n=e.about,s=e.userId,r=e.avatarUrl,l=e.postsCount,c=e.commentsCount;return new M(s,t,a,l,n,null,c,r)})}},{key:"getUsers",value:function(){return I.get(y).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);return e.map(function(e){var t=e.id,a=e.name,n=e.aboutShort,s=e.lastPostDate,r=e.avatarUrl,l=new Date(s).getTime()+72e5;return new M(t,a,null,null,n,new Date(l),null,r)})})}},{key:"getSingleUser",value:function(e){var t="".concat(y,"/").concat(e);return I.get(t).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);var t=e.name,a=e.email,n=e.about,s=e.userId,r=e.avatarUrl,l=e.postsCount,c=e.lastPostDate,o=e.commentsCount,i=new Date(c).getTime()+72e5;return new M(s,t,a,l,n,new Date(i),o,r)})}},{key:"editProfile",value:function(e){return I.put("".concat(C,"s"),e)}}]),e}()),R=(a(33),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={post:a.props.post,userImg:"http://sg-fs.com/wp-content/uploads/2017/08/user-placeholder.png"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getSingleUser(this.state.post.userId).then(function(t){var a=t.image;return e.setState({userImg:a})})}},{key:"render",value:function(){var e=this.state,t=e.post,a=e.userImg;return s.a.createElement(n.Fragment,null,s.a.createElement("h5",{className:"card-title item-link mb-0 fit-content",onClick:this.props.handleUserClick},s.a.createElement("img",{className:"d-flex mr-2 rounded-circle feed-img float-left",src:a,alt:"avatar"}),t.userDisplayName),s.a.createElement("small",{className:"text-muted"},t.getElapsedTime()," ago"))}}]),t}(n.Component)),A=function(e){var t=e.videoUrl;return s.a.createElement("div",{className:"embed-responsive embed-responsive-16by9 "},s.a.createElement("iframe",{className:"embed-responsive-item card-img-top",src:t,allowFullScreen:!0,title:"post video"}))},H=function(e){var t=e.imageUrl;return s.a.createElement("img",{className:"card-img-top",src:t,alt:"post"})},B=(a(35),Object(v.a)(function(e){var t=e.post,a=e.history,n=t.id,r=t.type,l=t.text,c=t.userId,o=t.imageUrl,i=t.videoUrl,m=t.commentsNum;return s.a.createElement("div",{className:"card mb-4 item-decoration border-0 shadow",onClick:function(){a.push({pathname:"/post-details",state:{id:n,type:r,userId:c}})}},s.a.createElement("div",{className:"card-body"},s.a.createElement(R,{post:t,handleUserClick:function(e){e.stopPropagation(),a.push({pathname:"/profile",state:{userId:c}})}}),s.a.createElement("hr",{className:"my-1"}),l?s.a.createElement(L,{text:l}):null),o?s.a.createElement(H,{imageUrl:o}):null,i?s.a.createElement(A,{videoUrl:i}):null,s.a.createElement("div",{className:"card-footer text-muted"},s.a.createElement("small",{className:"text-muted float-right"},m," ",s.a.createElement("i",{className:"fas fa-comments"})),s.a.createElement("small",{className:"text-muted float-left mr-2"},t.getCapitalType()," post")))})),q=function(e){return e.posts.map(function(e){return s.a.createElement(B,{key:e.id,post:e})})},G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={search:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.search,a=this.props,n=a.title,r=a.handleSearch,l=a.className;return s.a.createElement("div",{className:"card my-4 border-0 shadow ".concat(l)},s.a.createElement("h5",{className:"card-header button-active"},n),s.a.createElement("div",{className:"card-body bg-light"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",value:t,placeholder:"Search by users",className:"form-control",onChange:function(t){var a=t.target;return e.setState({search:a.value})}}),s.a.createElement("span",{className:"input-group-btn"},s.a.createElement("button",{type:"button",className:"btn button-active",onClick:function(){return r(t)}},s.a.createElement("i",{className:"fas fa-search"}))))))}}]),t}(n.Component),W=(a(37),function(e){var t=e.className;return s.a.createElement("div",{className:t},s.a.createElement("p",{className:"result-message"},s.a.createElement("i",{className:"fas fa-search"}),"We couldn't find any matching result"))}),J=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"isTextValid",value:function(e){return!(e.includes("http")||e.includes("<")||e.includes("www"))}},{key:"isImageUrlValid",value:function(e){var t,a=e.split(".");switch(a[a.length-1].toLowerCase()){case"jpg":case"png":case"svg":case"gif":t=!0;break;default:t=!1}return!(!e.startsWith("https://")&&!e.startsWith("http://")||!t)}},{key:"isVideoUrlValid",value:function(e){return!(!e.startsWith("https://www.youtube.com")&&!e.startsWith("http://www.youtube.com")||!e.includes("watch?v=")&&!e.includes("embed"))}},{key:"isNameValid",value:function(e){return e.length>2&&e.length<31}},{key:"isEmailValid",value:function(e){return!(!e.includes("@")||!e.includes(".com"))}}]),e}()),K=function(){function e(t,a,n,s,r,l){Object(m.a)(this,e),this.id=t,this.type=a,this.like=!1,this.userId=n,this.commentsNum=s,this.dateCreated=l,this.userDisplayName=r}return Object(u.a)(e,[{key:"isVideo",value:function(){return"video"===this.type}},{key:"isImage",value:function(){return"image"===this.type}},{key:"getCapitalType",value:function(){return this.type.charAt(0).toUpperCase()+this.type.slice(1).toLowerCase()}},{key:"getFormatedTime",value:function(){return this.dateCreated.toLocaleTimeString("en-GB",{hour12:!1})}},{key:"getFormatedDate",value:function(){return this.dateCreated.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}},{key:"getElapsedTime",value:function(){var e=Math.floor((new Date-this.dateCreated)/1e3),t=Math.floor(e/31536e3);return t>=1?t>1?t+" years":t+" year":(t=Math.floor(e/2592e3))>=1?t>1?t+" months":t+" month":(t=Math.floor(e/86400))>=1?t>1?t+" days":t+" day":(t=Math.floor(e/3600))>=1?t>1?t+" hours":t+" hour":(t=Math.floor(e/60))>=1?t>1?t+" minuts":t+" minut":e>1?e+" seconds":e+" second"}},{key:"changeLike",value:function(){this.like=!this.like}}]),e}(),Q=function(e){function t(e,a,n,s,r,l,c){var o;return Object(m.a)(this,t),(o=Object(d.a)(this,Object(h.a)(t).call(this,e,a,s,r,l,c))).text=n,o}return Object(p.a)(t,e),t}(K),Y=function(e){function t(e,a,n,s,r,l,c){var o;return Object(m.a)(this,t),(o=Object(d.a)(this,Object(h.a)(t).call(this,e,a,n,r,l,c))).videoUrl=s,o}return Object(p.a)(t,e),t}(K),z=function(e){function t(e,a,n,s,r,l,c){var o;return Object(m.a)(this,t),(o=Object(d.a)(this,Object(h.a)(t).call(this,e,a,n,r,l,c))).imageUrl=s,o}return Object(p.a)(t,e),t}(K),X=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"getPosts",value:function(){return I.get(w).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);return e.filter(function(e){return!e.hasOwnProperty("videoUrl")||e.videoUrl.includes("https://www.youtube.com/embed/")}).map(function(e){var t=e.id,a=e.type,n=e.text,s=e.userId,r=e.imageUrl,l=e.videoUrl,c=e.commentsNum,o=e.dateCreated,i=e.userDisplayName,m=new Date(o).getTime()+72e5;switch(a){case"image":return new z(t,a,s,r,c,i,new Date(m));case"video":return new Y(t,a,s,l,c,i,new Date(m));case"text":return new Q(t,a,n,s,c,i,new Date(m));default:return null}})})}},{key:"getSinglePost",value:function(e,t){var a=function(e){switch(e){case"text":return"TextPosts";case"video":return"VideoPosts";case"image":return"ImagePosts"}}(t),n="".concat(N,"/").concat(a,"/").concat(e);return I.get(n).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);var t=e.id,a=e.type,n=e.text,s=e.userId,r=e.imageUrl,l=e.videoUrl,c=e.commentsNum,o=e.dateCreated,i=e.userDisplayName,m=new Date(o).getTime()+72e5;switch(a){case"image":return new z(t,a,s,r,c,i,new Date(m));case"video":return new Y(t,a,s,l,c,i,new Date(m));case"text":return new Q(t,a,n,s,c,i,new Date(m));default:return null}})}},{key:"addPost",value:function(e,t){var a="".concat(N,"/").concat(t);return I.post(a,e)}},{key:"deletePost",value:function(e){var t="".concat(w,"/").concat(e);return I.delete(t).then(function(e){if(e.hasOwnProperty("message"))throw new Error("Something went wrong. Post can't be delted right now, please try again later.");return console.info("Post wit id ".concat(e.id,", deleted")),"Post successfully deleted."})}}]),e}()),Z=(a(39),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={message:"",postContent:"",messageClass:"",imageClass:"",videoClass:"",textClass:"active-type shadow-sm",whoIsActive:"TextPosts"},a.handlePostCreate=a.handlePostCreate.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"checkText",value:function(e){var t;t=J.isTextValid(e)?"":"Text can't include www, http or start with '<'",this.setState({message:t,messageClass:"danger"})}},{key:"checkImageUrl",value:function(e){var t;t=J.isImageUrlValid(e)?"":"Invalid format! Image link must start with http or https and end with jpg, svg, png or gif.",this.setState({message:t,messageClass:"danger"})}},{key:"checkVideoUrl",value:function(e){var t;t=J.isVideoUrlValid(e)?"":"Invalid format! YouTube embeded videos only.",this.setState({message:t,messageClass:"danger"})}},{key:"checkPostContent",value:function(e,t){switch(t){case"TextPosts":this.checkText(e);break;case"ImagePosts":this.checkImageUrl(e);break;case"VideoPosts":this.checkVideoUrl(e)}}},{key:"createPayload",value:function(e,t){switch(e){case"TextPosts":return{text:t};case"ImagePosts":return{imageUrl:t};case"VideoPosts":return{videoUrl:t}}}},{key:"handlePostCreate",value:function(){var e=this,t=this.state,a=t.postContent,n=t.whoIsActive;t.message||X.addPost(this.createPayload(n,a),n).then(function(t){e.props.reload(),e.setState({message:t,postContent:"",messageClass:"success"}),setTimeout(function(){e.setState({message:"",messageClass:""})},2e3)}).catch(function(t){var a=t.message;return e.setState({message:a,messageClass:"danger"})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.image,r=this.state,l=r.postContent,c=r.whoIsActive,o=r.messageClass,i=r.message,m=r.textClass,u=r.imageClass,d=r.videoClass;return s.a.createElement("div",{className:"card mb-4 shadow-sm"},s.a.createElement("h5",{className:"card-header button-active"},"Create post"),s.a.createElement("div",{className:"card-body bg-white shadow-sm"},s.a.createElement("div",{className:"input-group"},s.a.createElement("img",{src:n,className:"rounded-circle feed-img",alt:"avatar"}),s.a.createElement("input",{type:"text",value:l,className:"form-control border-0 pb-5 pt-4",placeholder:"What's on your mind, ".concat(a,"?"),onChange:function(t){var a=t.target;e.setState({postContent:a.value}),e.checkPostContent(a.value,c)},onBlur:function(){return setTimeout(function(){e.setState({message:"",postContent:"",messageClass:""})},200)}})),s.a.createElement("small",{className:"text-".concat(o)},i)),s.a.createElement("div",{className:"card-footer text-muted d-flex flex-row pt-0"},s.a.createElement("span",{className:"nav-link rounded-bottom ".concat(m),onClick:function(){e.setState({whoIsActive:"TextPosts",textClass:"active-type shadow-sm",imageClass:"",videoClass:""})}},s.a.createElement("i",{className:"fas fa-pencil-alt"})," Text"),s.a.createElement("span",{className:"nav-link rounded-bottom ".concat(u),onClick:function(){e.setState({whoIsActive:"ImagePosts",textClass:"",imageClass:"active-type shadow-sm",videoClass:""})}},s.a.createElement("i",{className:"fas fa-image"})," Image"),s.a.createElement("span",{className:"nav-link rounded-bottom ".concat(d),onClick:function(){e.setState({whoIsActive:"VideoPosts",textClass:"",imageClass:"",videoClass:"active-type shadow-sm"})}},s.a.createElement("i",{className:"fas fa-video"})," Video"),s.a.createElement("span",{className:"input-group-btn ml-auto"},s.a.createElement("button",{type:"button",className:"btn button-active mt-2 shadow-sm",onClick:this.handlePostCreate},"Post"))))}}]),t}(n.Component)),$=function(e){var t=e.handleChange,a=e.className;return s.a.createElement("div",{className:"card my-4 border-0 shadow ".concat(a)},s.a.createElement("h5",{className:"card-header button-active"},"Filter posts"),s.a.createElement("div",{className:"card-body bg-light"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend rounded"},s.a.createElement("label",{className:"input-group-text button-active",htmlFor:"inputGroupSelect01"},"By type")),s.a.createElement("select",{className:"custom-select",id:"inputGroupSelect01",onChange:t},s.a.createElement("option",{value:"all"},"All"),s.a.createElement("option",{value:"text"},"Text"),s.a.createElement("option",{value:"image"},"Image"),s.a.createElement("option",{value:"video"},"Video")))))))},_=a(22),ee=Object(v.a)(function(e){var t=e.post,a=e.history,r=t.id,l=t.userDisplayName,c=t.commentsNum,o=t.type,i=t.userId;return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"mx-4 my-0"},s.a.createElement("h6",{onClick:function(){a.push({pathname:"/post-details",state:{id:r,type:o}})},className:"m-0 item-link"},t.getCapitalType()," post"),s.a.createElement("small",{className:"text-muted float-right"},c," ",s.a.createElement("i",{className:"fas fa-comments"})),s.a.createElement("p",null,"by"," ",s.a.createElement("span",{onClick:function(){a.push({pathname:"/profile",state:{userId:i}})},className:"text-primary item-link"},l))),s.a.createElement("hr",{className:"my-1"}))}),te=function(e){var t=e.posts,a=e.className;return s.a.createElement("div",{className:"card my-4 border-0 shadow most-commented ".concat(a)},s.a.createElement("h5",{className:"card-header button-active"},"Most commented"),s.a.createElement("div",{className:"card-body bg-light"},t?s.a.createElement(n.Fragment,null,function(e){return e.sort(function(e,t){var a=e.commentsNum,n=t.commentsNum;return a<n?1:a>n?-1:0}).slice(0,5)}(Object(_.a)(t)).map(function(e,t){return s.a.createElement(ee,{post:e,key:t})})):s.a.createElement(g,{className:"blue"})))},ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={posts:null,profile:null,filterParam:"all",searchResults:null},a.loadPosts=a.loadPosts.bind(Object(f.a)(Object(f.a)(a))),a.handleSearch=a.handleSearch.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadPosts",value:function(){var e=this;X.getPosts().then(function(t){e.setState({posts:t,searchResults:t})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error",state:{message:a}})})}},{key:"handleSearch",value:function(e){var t=this.state.posts.filter(function(t){return t.userDisplayName.includes(e)});this.setState({searchResults:t})}},{key:"componentDidMount",value:function(){var e=this;Promise.all([V.getProfile(),X.getPosts()]).then(function(t){var a=Object(F.a)(t,2),n=a[0],s=a[1];sessionStorage.setItem("userId",n.id),e.setState({posts:s,profile:n,searchResults:s})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error"}),console.error(a)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchResults,n=t.filterParam,r=t.posts,l=t.profile,c="all"===n?a:a.filter(function(e){return e.type===n});return s.a.createElement("main",{className:"container"},s.a.createElement("div",{className:"row d-flex flex-row-reverse"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement(G,{title:"Search posts",className:"sticky-first",handleSearch:this.handleSearch}),s.a.createElement($,{className:"sticky-second",handleChange:function(t){var a=t.target;return e.setState({filterParam:a.value})}}),s.a.createElement(te,{posts:r,className:"sticky-third"})),s.a.createElement("div",{className:"col-md-8"},l?s.a.createElement(Z,{name:l.name,image:l.image,reload:this.loadPosts}):null,a?a.length?s.a.createElement(q,{posts:c}):s.a.createElement(W,{className:"bg-light w-100 shadow py-3 border-thick"}):s.a.createElement(g,{className:"blue"}))))}}]),t}(n.Component),ne=a(74),se=(a(41),function(e){e.location;return s.a.createElement("main",{className:"container"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"error-template"},s.a.createElement("h1",null,"Oops!"),s.a.createElement("h2",null,"404 Not Found"),s.a.createElement("div",{className:"error-details"},"Sorry, an error has occured, Requested page not found!"),s.a.createElement("div",{className:"error-actions"},s.a.createElement(ne.a,{to:"/",className:"btn btn-primary btn-lg"},s.a.createElement("i",{className:"fas fa-home"})," Take Me Home")))))))}),re=(a(43),function(){return s.a.createElement("main",{className:"pt-0"},s.a.createElement("div",{class:"text-white header bg-image"},s.a.createElement("div",{class:"container text-center"},s.a.createElement("h1",null,s.a.createElement("img",{src:"https://i.imgur.com/Xa93F4x.png",alt:"",className:"w-50"})),s.a.createElement("h1",{class:"lead"},"Meet amazing people."))),s.a.createElement("section",{id:"about"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-8 mx-auto"},s.a.createElement("h2",null,"About"),s.a.createElement("p",{className:"lead"},"Bit Book is a simple social network where user can:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Register/Login"),s.a.createElement("li",null,"See latest posts from all users"),s.a.createElement("li",null,"Create text, image or video posts"),s.a.createElement("li",null,"Comment posts"),s.a.createElement("li",null,"Search for users"),s.a.createElement("li",null,"View users profile"),s.a.createElement("li",null,"Edit own profile")),s.a.createElement("p",{className:"lead"},"Source code on"," ",s.a.createElement("a",{href:"https://github.com/ivanbalic/bit-book",target:"blank"},s.a.createElement("i",{className:"fab fa-github"})," GitHub")))))),s.a.createElement("section",{id:"services",class:"bg-light"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-8 mx-auto"},s.a.createElement("h2",null,"Showcasing"),s.a.createElement("ul",null,s.a.createElement("li",null,"React.js"),s.a.createElement("li",null,"RESTFul API"),s.a.createElement("li",null,"Separation of concerns"),s.a.createElement("li",null,"Passing data through multiple layers, both ways"),s.a.createElement("li",null,"Stateful and Stateless components"),s.a.createElement("li",null,"Authentication"),s.a.createElement("li",null,"Validation")))))),s.a.createElement("section",{id:"contact"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-8 mx-auto"},s.a.createElement("h2",null,"Stack"),s.a.createElement("ul",null,s.a.createElement("li",null,"Language: HTML5, CSS3, JS(ES6+)"),s.a.createElement("li",null,"Library: React, Bootstrap"),s.a.createElement("li",null,"Package Manager: Yarn"),s.a.createElement("li",null,"Deployment: GitHub Pages")))))))}),le=(a(45),Object(v.a)(function(e){var t=e.user,a=e.history,n=t.id,r=t.image,l=t.name,c=function(){return a.push({pathname:"/profile",state:{userId:n}})};return s.a.createElement("div",{className:"col-lg-4 col-sm-6 radius"},s.a.createElement("div",{className:"card people-card hovercard bg-white"},s.a.createElement("div",{className:"cardheader"}),s.a.createElement("div",{className:"avatar"},s.a.createElement("img",{className:"bg-light border",alt:"avatar",src:r,onClick:c})),s.a.createElement("div",{className:"infot"},s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"item-link",onClick:c},l)),s.a.createElement("div",{className:"desc"},s.a.createElement("i",{className:"fas fa-wifi"})," ","49 years"===t.getElapsedTime()?"Long time ago":"".concat(t.getElapsedTime()," ago"))),s.a.createElement("div",{className:"bottom"},s.a.createElement("span",{className:"people-btn btn-info btn-twitter btn-sm m-1"},s.a.createElement("i",{className:"fas fa-user-plus"})),s.a.createElement("span",{className:"people-btn btn-success btn-sm m-1",onClick:c},s.a.createElement("i",{className:"fas fa-eye"})))))})),ce=function(e){var t=e.users;return s.a.createElement("div",{className:"row"},t.map(function(e){return s.a.createElement(le,{user:e,key:e.id})}))},oe=(a(47),function(e){var t=e.children,a=e.linkTarget;return s.a.createElement("div",{id:"carouselExampleInterval",className:"carousel slide carousel-fade","data-ride":"carousel"},s.a.createElement("ol",{className:"carousel-indicators"},t.map(function(e,t){return s.a.createElement("li",{key:t,"data-target":"#carouselExampleInterval","data-slide-to":"".concat(t),className:t?"":"active"})})),s.a.createElement("a",{href:a,className:"carousel-link"},s.a.createElement("span",null,s.a.createElement("p",{className:"m-0 p-0"},"Scroll down"),s.a.createElement("i",{className:"fas fa-chevron-down m-0 p-0"}))),s.a.createElement("div",{className:"carousel-inner"},t))}),ie=Object(v.a)(function(e){var t=e.user,a=e.history,r=t.image,l=t.id,c=t.name,o=function(){a.push({pathname:"/profile",state:{userId:l}})};return s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"media mx-4 my-0"},s.a.createElement("img",{src:r,alt:"avatar",onClick:o,className:"d-flex rounded-circle comment-img item-link"}),s.a.createElement("div",{className:"p-1 fit-conten"},s.a.createElement("h6",{onClick:o,className:"m-0 item-link d-inline-block fit-content"},c))),s.a.createElement("small",{className:"text-muted pl-4"},"Last post: ",t.getElapsedTime()," ago"),s.a.createElement("hr",null))}),me=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={users:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getUsers().then(function(t){return e.setState({users:function(e){return e.sort(function(e,t){var a=new Date(e.lastPostDate),n=new Date(t.lastPostDate);return a<n?1:a>n?-1:0}).slice(0,5)}(t)})})}},{key:"render",value:function(){var e=this.state.users,t=this.props,a=t.withLink,r=t.className;return s.a.createElement("div",{className:"card my-4 border-0 shadow ".concat(r)},s.a.createElement("h5",{className:"card-header button-active"},"Recently Active"),s.a.createElement("div",{className:"card-body bg-light"},e?s.a.createElement(n.Fragment,null,e.map(function(e,t){return s.a.createElement(ie,{user:e,key:t})}),a?s.a.createElement(ne.a,{to:"/people",className:"text-center text-muted mx-auto d-block"},"See more.."):null):s.a.createElement(g,{className:"blue"})))}}]),t}(n.Component),ue=function(e){var t=e.imgSrc,a=e.text,n=e.active,r=void 0===n?"":n;return s.a.createElement("div",{className:"carousel-item ".concat(r),"data-interval":"1000"},s.a.createElement("img",{src:t,className:"d-block w-100",alt:"carousel cover"}),s.a.createElement("div",{className:"carousel-caption"},s.a.createElement("h1",{className:"text-center"},s.a.createElement("img",{src:"https://i.imgur.com/Xa93F4x.png",alt:"",className:"w-75"})),s.a.createElement("p",{className:"lead"},a)))},de=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={users:null,searchResult:null},a.handleSearch=a.handleSearch.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleSearch",value:function(e){var t=this.state.users.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())});this.setState({searchResult:t})}},{key:"componentDidMount",value:function(){var e=this;V.getUsers().then(function(t){e.setState({users:t,searchResult:t})})}},{key:"render",value:function(){var e=this,t=this.state.searchResult;return s.a.createElement(n.Fragment,null,s.a.createElement(oe,{linkTarget:"#search"},s.a.createElement(ue,{active:"active",text:"Meet amazing people.",imgSrc:"https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"}),s.a.createElement(ue,{text:"Share your funny stories...",imgSrc:"https://images.unsplash.com/photo-1504022462188-88f023db97bf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"}),s.a.createElement(ue,{text:"...your happy moments...",imgSrc:"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"}),s.a.createElement(ue,{text:"...exciting trips...",imgSrc:"https://images.unsplash.com/photo-1520645521318-f03a712f0e67?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"}),s.a.createElement(ue,{text:"...and incredible adventures.",imgSrc:"https://images.unsplash.com/photo-1521336575822-6da63fb45455?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80"})),s.a.createElement("main",{className:"container",id:"search"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 col-lg-9"},s.a.createElement("div",{className:"input-group shadow sticky-header"},s.a.createElement("span",{className:"input-group-btn"},s.a.createElement("button",{type:"button",className:"btn button-active"},s.a.createElement("i",{className:"fas fa-search"}))),s.a.createElement("input",{type:"text",placeholder:"Search",className:"form-control",onChange:function(t){var a=t.target;return e.handleSearch(a.value)}})),t?t.length?s.a.createElement(ce,{users:t}):s.a.createElement(W,{className:"bg-light w-100 shadow py-3 border-thick mt-3"}):s.a.createElement(g,{className:"blue mt-3"})),s.a.createElement("div",{className:"col-sm-12 col-lg-3"},s.a.createElement(me,{withLink:!1})))))}}]),t}(n.Component),he=(a(49),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={userId:null,userName:"Profile",userImg:"http://sg-fs.com/wp-content/uploads/2017/08/user-placeholder.png"},a.handleLogout=a.handleLogout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleLogout",value:function(){sessionStorage.clear()}},{key:"componentDidMount",value:function(){var e=this;V.getProfile().then(function(t){var a=t.name,n=t.image,s=t.id;return e.setState({userName:a,userImg:n,userId:s})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.userName,n=t.userImg,r=t.userId;return s.a.createElement("header",{className:"container-fluid primary-color navbar-dark sticky-top"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark primary-color container"},s.a.createElement(ne.a,{className:"navbar-brand",to:"/feed"},s.a.createElement("img",{src:"https://i.imgur.com/Xa93F4x.png",alt:"logo",className:"logo mr-1"})),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item border-right border-primary"},s.a.createElement("span",{className:"nav-link py-0",onClick:function(){return e.props.history.push({pathname:"/profile",state:{userId:r}})}},s.a.createElement("img",{src:n,alt:"profile icon",className:"profile-icon rounded-circle bg-light"})," ",a)),s.a.createElement("li",{className:"nav-item border-right border-primary"},s.a.createElement(ne.a,{className:"nav-link py-0",to:"/feed"},s.a.createElement("i",{className:"fas fa-newspaper"})," Feed")),s.a.createElement("li",{className:"nav-item border-right border-primary"},s.a.createElement(ne.a,{className:"nav-link py-0",to:"/people"},s.a.createElement("i",{className:"fas fa-users"})," People")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(ne.a,{className:"nav-link py-0",to:"/about"},s.a.createElement("i",{className:"fas fa-info"})," About")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(ne.a,{className:"nav-link py-0",to:"/",onClick:this.handleLogout},s.a.createElement("i",{className:"fas fa-sign-out-alt"})," Logout"))))))}}]),t}(n.Component)),pe=Object(v.a)(he),fe=(a(51),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={id:null,name:"",email:"",errorUrl:"",errorName:"",avatarUrl:"",errorEmail:"",description:"",errorDescription:""},a.handleModalClose=a.handleModalClose.bind(Object(f.a)(Object(f.a)(a))),a.handleProfileEdit=a.handleProfileEdit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleProfileEdit",value:function(){var e=this,t=this.state,a=t.id,n=t.name,s=t.email,r=t.errorUrl,l=t.avatarUrl,c=t.errorName,o=t.errorEmail,i=t.description,m=t.errorDescription;if(!r&&!c&&!o&&!m){var u={name:n,email:s,aboutShort:i,about:i,avatarUrl:l};V.editProfile(u).then(function(t){t.status>=200&&t.status<300&&e.props.loadProfile(a)})}}},{key:"handleModalClose",value:function(){var e=this.props.profile,t=e.name,a=e.email,n=e.description,s=e.image;this.setState({name:t,email:a,description:n,errorUrl:"",errorName:"",errorEmail:"",avatarUrl:s,errorDescription:""})}},{key:"checkName",value:function(e){var t;t=J.isNameValid(e)?J.isTextValid(e)?"":"Name can't include www, http or start with '<'":"Name can't be longer then 30 characters",this.setState({errorName:t})}},{key:"checkAvatarUrl",value:function(e){var t;t=J.isImageUrlValid(e)?"":"Invalid format! Link must start with http or https and end with jpg, svg, png or gif.",this.setState({errorUrl:t})}},{key:"checkEmail",value:function(e){var t;t=J.isEmailValid(e)?"":"Invalid format! Email must include @ and end with .com",this.setState({errorEmail:t})}},{key:"checkDescription",value:function(e){var t;t=J.isTextValid(e)?"":"Description can't include www, http or start with '<'",this.setState({errorDescription:t})}},{key:"componentDidUpdate",value:function(e){if(e.profile!==this.props.profile){var t=this.props.profile,a=t.id,n=t.name,s=t.email,r=t.description,l=t.image;this.setState({id:a,name:n,email:s,description:r,avatarUrl:l})}}},{key:"componentDidMount",value:function(){var e=this.props.profile,t=e.id,a=e.name,n=e.email,s=e.description,r=e.image;this.setState({id:t,name:a,email:n,description:s,avatarUrl:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,r=t.errorUrl,l=t.avatarUrl,c=t.errorName,o=t.errorEmail,i=t.description,m=t.errorDescription;return s.a.createElement("div",{className:"modal fade",id:"editProfile",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header border-0 p-2 button-active"},s.a.createElement("h3",{className:"modal-title"},s.a.createElement("i",{className:"fas fa-cogs"})," Edit Profile")),s.a.createElement("div",{className:"modal-body p-2"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 col-sm-12"},s.a.createElement("img",{className:"my-0 mx-auto w-100",src:l||"http://via.placeholder.com/100x100",alt:"preview"}),s.a.createElement("button",{type:"button",className:"btn button-active my-2"},"UPLOAD PHOTO")),s.a.createElement("div",{className:"col-md-8 col-sm-12 mt-4"},s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{autoFocus:!0,type:"text",id:"name",value:a,className:"form-control",placeholder:"Enter name",onChange:function(t){var a=t.target;e.checkName(a.value),e.setState({name:a.value})}}),s.a.createElement("label",{htmlFor:"name"},"Name"),s.a.createElement("small",{className:"text-danger"},c)),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"text",id:"email",value:n,className:"form-control",placeholder:"Enter email",onChange:function(t){var a=t.target;e.checkEmail(a.value),e.setState({email:a.value})}}),s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("small",{className:"text-danger"},o)))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"text",id:"avatarUrl",value:l,className:"form-control",placeholder:"Enter image url",onChange:function(t){var a=t.target;e.checkAvatarUrl(a.value),e.setState({avatarUrl:a.value})}}),s.a.createElement("label",{htmlFor:"avatarUrl"},"Image URL"),s.a.createElement("small",{className:"text-danger"},r))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"text",id:"description",value:i,className:"form-control",placeholder:"Enter description",onChange:function(t){var a=t.target;e.checkDescription(a.value),e.setState({description:a.value})}}),s.a.createElement("label",{htmlFor:"username"},"Description"),s.a.createElement("small",{className:"text-danger"},m)))))),s.a.createElement("div",{className:"modal-footer border-0 p-2"},s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.closeEditProfileHandler},"CLOSE"),s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.handleProfileEdit},"UPDATE")))))}}]),t}(n.Component)),ve=function(e){var t=e.profile,a=t.id,n=t.name,r=t.image,l=t.email,c=t.postNumber,o=t.description,i=t.commentNumber;return s.a.createElement("div",{className:"profile bg-light rounded mb-4"},s.a.createElement("img",{className:"profile-img bg-white border rounded shadow",src:r,alt:"avatar"}),s.a.createElement("div",{className:"profile-text mt-3"},s.a.createElement("h1",null,n),s.a.createElement("p",{className:"w-50 mx-auto"},o)),a===parseInt(sessionStorage.getItem("userId"))?s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("button",{className:"btn button-active fit-content shadow","data-toggle":"modal","data-target":"#editProfile"},s.a.createElement("i",{className:"fas fa-user-edit"})," Edit")):s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("button",{className:"btn button-active fit-content shadow"},s.a.createElement("i",{className:"fas fa-user-plus"})," Add Friend")),s.a.createElement("hr",null),s.a.createElement("h3",{className:"text-center"},"About"),s.a.createElement("p",{className:"text-center text-muted"},s.a.createElement("i",{className:"fas fa-envelope"})," ",l),s.a.createElement("div",{className:"w-100 d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn button-active mb-3 mr-5 shadow"},"Comments ",s.a.createElement("span",{className:"badge badge-light"},i)),s.a.createElement("button",{type:"button",className:"btn button-active mb-3 shadow"},"Posts ",s.a.createElement("span",{className:"badge badge-light"},c))))},ge=(a(53),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={myPosts:null,profile:null,filterParam:"all"},a.loadPosts=a.loadPosts.bind(Object(f.a)(Object(f.a)(a))),a.loadProfile=a.loadProfile.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadProfile",value:function(e){var t=this;V.getSingleUser(e).then(function(a){t.setState({profile:a,userId:e})}).catch(function(e){var a=e.message;t.props.history.push({pathname:"/error",state:{message:a}})})}},{key:"loadPosts",value:function(){var e=this;X.getPosts().then(function(t){var a=t.filter(function(t){return t.userId===e.props.location.state.userId});e.setState({myPosts:a})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error",state:{message:a}})})}},{key:"componentDidUpdate",value:function(e){e.location.state.userId!==this.props.location.state.userId&&(this.loadProfile(this.props.location.state.userId),this.loadPosts())}},{key:"componentDidMount",value:function(){var e=this;Promise.all([V.getSingleUser(this.props.location.state.userId),X.getPosts()]).then(function(t){var a=Object(F.a)(t,2),n=a[0],s=a[1].filter(function(t){return t.userId===e.props.location.state.userId});e.setState({myPosts:s,profile:n})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error",state:{message:a}})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.profile,r=t.myPosts,l=t.filterParam,c="all"===l?r:r.filter(function(e){return e.type===l});return s.a.createElement(n.Fragment,null,s.a.createElement("img",{className:"profile-cover container p-0",src:"https://images.unsplash.com/photo-1470219556762-1771e7f9427d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1489&q=80",alt:"cover"}),s.a.createElement("main",{className:"container p-0"},a?s.a.createElement(n.Fragment,null,s.a.createElement(ve,{profile:a}),s.a.createElement(fe,{loadProfile:this.loadProfile,profile:a})):s.a.createElement(g,{className:"blue"}),s.a.createElement("div",{className:"row d-flex flex-row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement($,{className:"sticky-first",handleChange:function(t){var a=t.target;return e.setState({filterParam:a.value})}}),s.a.createElement(te,{posts:r,className:"sticky-second"})),s.a.createElement("div",{className:"col-md-8"},a?s.a.createElement(n.Fragment,null,a.id===parseInt(sessionStorage.getItem("userId"))?s.a.createElement(Z,{name:a.name,image:a.image,reload:this.loadPosts}):null,s.a.createElement(q,{posts:c})):null))))}}]),t}(n.Component)),be=(a(55),function(){return s.a.createElement("footer",{className:"button-active"},s.a.createElement("p",{className:"container button-active"},"\xa9",(new Date).getFullYear()," Four in for"))}),Ee=(a(57),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={comment:a.props.comment,userImg:"http://sg-fs.com/wp-content/uploads/2017/08/user-placeholder.png"},a.handleUserClick=a.handleUserClick.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleUserClick",value:function(){this.props.history.push({pathname:"/profile",state:{userId:this.state.comment.authorId}})}},{key:"componentDidMount",value:function(){var e=this;V.getSingleUser(this.state.comment.authorId).then(function(t){var a=t.image;e.setState({userImg:a})})}},{key:"render",value:function(){var e=this.state,t=e.userImg,a=e.comment,n=a.body,r=a.authorName;return s.a.createElement("div",{className:"bg-light pt-1 radius shadow"},s.a.createElement("div",{className:"media mx-4 mt-4 mb-1"},s.a.createElement("img",{src:t,alt:"avatar",onClick:this.handleUserClick,className:"d-flex mr-3 rounded-circle comment-img item-link"}),s.a.createElement("div",{className:"px-3 py-1 fit-content radius comment-item-bg"},s.a.createElement("h6",{onClick:this.handleUserClick,className:"m-0 item-link d-inline-block fit-content"},r)," ".concat(n))),s.a.createElement("small",{className:"text-muted ml-4"},a.getElapsedTime()," ago"),s.a.createElement("hr",null))}}]),t}(n.Component)),Ne=Object(v.a)(Ee),ye=function(){function e(t,a,n,s,r,l){Object(m.a)(this,e),this.id=t,this.body=a,this.like=!1,this.postId=n,this.authorId=s,this.authorName=r,this.dateCreated=l}return Object(u.a)(e,[{key:"getFormatedTime",value:function(){return this.dateCreated.toLocaleTimeString("en-GB",{hour12:!1})}},{key:"getFormatedDate",value:function(){return this.dateCreated.toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}},{key:"getElapsedTime",value:function(){var e=Math.floor((new Date-this.dateCreated)/1e3),t=Math.floor(e/31536e3);return t>=1?t>1?t+" years":t+" year":(t=Math.floor(e/2592e3))>=1?t>1?t+" months":t+" month":(t=Math.floor(e/86400))>=1?t>1?t+" days":t+" day":(t=Math.floor(e/3600))>=1?t>1?t+" hours":t+" hour":(t=Math.floor(e/60))>=1?t>1?t+" minuts":t+" minut":e>1?e+" seconds":e+" second"}},{key:"changeLike",value:function(){this.like=!this.like}}]),e}(),ke=new(function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,[{key:"getComments",value:function(e){var t="".concat(O,"?postId=").concat(e);return I.get(t).then(function(e){if(e.hasOwnProperty("message"))throw new Error(e.message);return e.map(function(e){var t=e.id,a=e.body,n=e.postId,s=e.authorId,r=e.authorName,l=e.dateCreated,c=new Date(l).getTime()+72e5;return new ye(t,a,n,s,r,new Date(c))})})}},{key:"addComment",value:function(e){return I.post(O,e)}}]),e}()),we=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getInputValue=function(e){var t;t=!e.target.value.includes("http")&&e.target.value.length>=3&&!e.target.value.includes("<")&&!e.target.value.includes("www")?{inputValue:e.target.value,buttonClass:"btn button-active"}:{inputValue:e.target.value,buttonClass:"btn button-active disabled"},a.setState(t)},a.onCreateCommentHandler=function(){var e={body:a.state.inputValue,postId:a.state.postId};ke.addComment(e).then(function(e){a.props.loadComments()}),a.setState({inputValue:""})},a.state={postId:a.props.postId,inputValue:"",buttonClass:"btn button-active disabled"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mt-4 px-4 input-group-prepend"},s.a.createElement("input",{className:"form-control",type:"text",placeholder:"Add your comment...",onChange:this.getInputValue,value:this.state.inputValue}),s.a.createElement("input",{type:"button",value:"SEND",className:this.state.buttonClass,onClick:this.onCreateCommentHandler}))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={comments:null},a.loadComments=a.loadComments.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadComments",value:function(){var e=this;ke.getComments(this.props.postId).then(function(t){e.setState({comments:t})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error"}),console.error(a)})}},{key:"componentDidMount",value:function(){this.loadComments()}},{key:"render",value:function(){var e=this.state.comments;return e?s.a.createElement(n.Fragment,null,s.a.createElement(we,{postId:this.props.postId,loadComments:this.loadComments}),s.a.createElement("hr",null),s.a.createElement("div",{className:"mx-5"},e.map(function(e){return s.a.createElement(Ne,{key:e.id,comment:e})}).reverse())):s.a.createElement(g,{className:"blue"})}}]),t}(n.Component),Oe=(a(59),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={post:a.props.post,userImg:"http://sg-fs.com/wp-content/uploads/2017/08/user-placeholder.png"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getSingleUser(this.state.post.userId).then(function(t){var a=t.image;return e.setState({userImg:a})})}},{key:"render",value:function(){var e=this.state,t=e.userImg,a=e.post;return s.a.createElement("div",{className:"px-3 pt-3"},s.a.createElement("h3",{className:"item-link fit-content",onClick:this.props.handleUserClick},s.a.createElement("img",{src:t,alt:"avatar",className:"post-img rounded-circle mr-1"}),a.userDisplayName),s.a.createElement("p",{className:"mb-0"},a.getFormatedDate(),", ",a.getFormatedTime()),s.a.createElement("small",null,a.getCapitalType()," Post"))}}]),t}(n.Component)),je=function(e){var t=e.post,a=t.imageUrl,n=t.videoUrl,r=t.text;return a?s.a.createElement("img",{className:"img-fluid rounded w-100",src:a,alt:"post"}):r?s.a.createElement("p",{className:"lead p-3"},r):n?s.a.createElement("div",{className:"embed-responsive embed-responsive-16by9 "},s.a.createElement("iframe",{className:"embed-responsive-item card-img-top",src:n,allowFullScreen:!0,title:"post video"})):null},Se=function(e){var t=e.handleDelete;return s.a.createElement("span",{className:"btn text-secondary float-right m-2",onClick:t},s.a.createElement("i",{className:"fas fa-trash-alt",id:"delete"}))},xe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={post:null,comments:null,errorAlert:"",successAlert:"",postId:a.props.location.state.id,postType:a.props.location.state.type},a.handleUserClick=a.handleUserClick.bind(Object(f.a)(Object(f.a)(a))),a.handleDelete=a.handleDelete.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleUserClick",value:function(){this.props.history.push({pathname:"/profile",state:{userId:this.state.post.userId}})}},{key:"handleDelete",value:function(){var e=this;X.deletePost(this.state.postId).then(function(t){alert(t),e.props.history.push("/feed")}).catch(function(e){var t=e.message;alert(t)})}},{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.postId,n=t.postType;X.getSinglePost(a,n).then(function(t){e.setState({post:t})}).catch(function(t){var a=t.message;e.props.history.push({pathname:"/error"}),console.error(a)})}},{key:"render",value:function(){var e=this.state,t=e.post,a=e.postId;return s.a.createElement("main",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-11"},t?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"bg-light rounded shadow"},t.userId===parseInt(sessionStorage.getItem("userId"))?s.a.createElement(Se,{handleDelete:this.handleDelete}):null,s.a.createElement(Oe,{post:t,handleUserClick:this.handleUserClick}),s.a.createElement("hr",{className:"m-0 mb-1"}),s.a.createElement(je,{post:t})),s.a.createElement("hr",null),s.a.createElement(Ce,{postId:a})):s.a.createElement(g,{className:"blue"}))))}}]),t}(n.Component);a(61),a(63),a(65),a(66),a(69),a(71);l.a.render(s.a.createElement(c.a,null,s.a.createElement(function(){return sessionStorage.getItem("sessionId")?s.a.createElement(n.Fragment,null,s.a.createElement(pe,null),s.a.createElement(o.a,null,s.a.createElement(i.a,{path:"/post-details",component:xe}),s.a.createElement(i.a,{path:"/profile",component:ge}),s.a.createElement(i.a,{path:"/about",component:re}),s.a.createElement(i.a,{path:"/people",component:de}),s.a.createElement(i.a,{path:"/error",component:se}),s.a.createElement(i.a,{path:"/feed",component:ae}),s.a.createElement(i.a,{path:"/",component:ae})),s.a.createElement(be,null)):s.a.createElement(i.a,{path:"/",component:T})},null)),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.c1c4472f.chunk.js.map